<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="admin.css">
    <link rel="stylesheet" href="admin-enhanced.css">
    <link rel="stylesheet" href="admin-mobile.css">
    <link rel="stylesheet" href="shared-optimizations.css?v=1.0">
    <title>Smart Locker - Admin Dashboard</title>
</head>

<body>
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-logo">
                <i class="fas fa-lock"></i>
                <span>Smart Locker</span>
            </div>
            <button class="sidebar-toggle" id="sidebarToggle">
                <i class="fas fa-chevron-left"></i>
            </button>
        </div>

        <nav class="sidebar-nav">
            <ul class="nav-list">
                <li class="nav-item active" data-page="dashboard">
                    <a href="#dashboard" class="nav-link">
                        <i class="fas fa-th-large"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li class="nav-item" data-page="lockers">
                    <a href="#lockers" class="nav-link">
                        <i class="fas fa-box"></i>
                        <span>Manajemen Locker</span>
                    </a>
                </li>
                <li class="nav-item" data-page="users">
                    <a href="#users" class="nav-link">
                        <i class="fas fa-users"></i>
                        <span>Data Pengguna</span>
                    </a>
                </li>
                <li class="nav-item" data-page="transactions">
                    <a href="#transactions" class="nav-link">
                        <i class="fas fa-exchange-alt"></i>
                        <span>Transaksi</span>
                    </a>
                </li>
                <li class="nav-item" data-page="reports">
                    <a href="#reports" class="nav-link">
                        <i class="fas fa-chart-bar"></i>
                        <span>Laporan</span>
                    </a>
                </li>
                <li class="nav-item" data-page="serverLogs">
                    <a href="#serverLogs" class="nav-link">
                        <i class="fas fa-terminal"></i>
                        <span>Log Server</span>
                    </a>
                </li>
                <li class="nav-item" data-page="settings">
                    <a href="#settings" class="nav-link">
                        <i class="fas fa-cog"></i>
                        <span>Pengaturan</span>
                    </a>
                </li>
            </ul>
        </nav>

        <div class="sidebar-footer">
            <a href="index.html" class="logout-btn">
                <i class="fas fa-sign-out-alt"></i>
                <span>Logout</span>
            </a>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        <!-- Top Navigation -->
        <header class="top-nav">
            <div class="nav-left">
                <button class="menu-toggle" id="menuToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Cari...">
                </div>
            </div>
            <div class="nav-right">
                <div class="nav-notifications">
                    <button class="notification-btn" id="notificationBtn">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">3</span>
                    </button>
                    <div class="notification-dropdown" id="notificationDropdown">
                        <div class="notification-header">
                            <h4>Notifikasi</h4>
                            <a href="#" onclick="markAllRead(); return false;">Tandai semua dibaca</a>
                        </div>
                        <div class="notification-list">
                            <div class="notification-item unread">
                                <i class="fas fa-box notification-icon"></i>
                                <div class="notification-content">
                                    <p>Locker #5 telah dikembalikan</p>
                                    <span>5 menit yang lalu</span>
                                </div>
                            </div>
                            <div class="notification-item unread">
                                <i class="fas fa-user-plus notification-icon"></i>
                                <div class="notification-content">
                                    <p>Pengguna baru terdaftar</p>
                                    <span>15 menit yang lalu</span>
                                </div>
                            </div>
                            <div class="notification-item unread">
                                <i class="fas fa-exclamation-triangle notification-icon warning"></i>
                                <div class="notification-content">
                                    <p>Locker #12 terlambat dikembalikan</p>
                                    <span>1 jam yang lalu</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="admin-profile">
                    <img src="https://ui-avatars.com/api/?name=Admin&background=5B86E5&color=fff" alt="Admin">
                    <div class="admin-info">
                        <span class="admin-name">Administrator</span>
                        <span class="admin-role">Super Admin</span>
                    </div>
                    <i class="fas fa-chevron-down"></i>
                </div>
            </div>
        </header>

        <!-- Dashboard Page -->
        <section class="page active" id="dashboardPage">
            <div class="page-header">
                <h1>Dashboard</h1>
                <div class="breadcrumb">
                    <span>Home</span>
                    <i class="fas fa-chevron-right"></i>
                    <span class="current">Dashboard</span>
                </div>
            </div>

            <!-- Stats Cards -->
            <div class="stats-grid">
                <div class="stat-card gradient-blue">
                    <div class="stat-icon">
                        <i class="fas fa-box"></i>
                    </div>
                    <div class="stat-info">
                        <h3>Total Locker</h3>
                        <p class="stat-number" id="adminTotalLocker">0</p>
                        <span class="stat-change neutral"><i class="fas fa-minus"></i> 0%</span>
                    </div>
                </div>
                <div class="stat-card gradient-green">
                    <div class="stat-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="stat-info">
                        <h3>Tersedia</h3>
                        <p class="stat-number" id="adminAvailable">0</p>
                        <span class="stat-change neutral"><i class="fas fa-minus"></i> 0%</span>
                    </div>
                </div>
                <div class="stat-card gradient-orange">
                    <div class="stat-icon">
                        <i class="fas fa-lock"></i>
                    </div>
                    <div class="stat-info">
                        <h3>Terpakai</h3>
                        <p class="stat-number" id="adminOccupied">0</p>
                        <span class="stat-change neutral"><i class="fas fa-minus"></i> 0%</span>
                    </div>
                </div>
                <div class="stat-card gradient-purple">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-info">
                        <h3>Total Pengguna</h3>
                        <p class="stat-number" id="adminTotalUsers">0</p>
                        <span class="stat-change neutral"><i class="fas fa-minus"></i> 0</span>
                    </div>
                </div>
            </div>

            <!-- Charts Section -->
            <div class="charts-grid">
                <div class="chart-card">
                    <div class="chart-header">
                        <h3>Statistik Penggunaan</h3>
                        <div class="chart-actions">
                            <select class="chart-select">
                                <option>7 Hari Terakhir</option>
                                <option>30 Hari Terakhir</option>
                                <option>Tahun Ini</option>
                            </select>
                        </div>
                    </div>
                    <div class="chart-body">
                        <canvas id="usageChart"></canvas>
                    </div>
                </div>
                <div class="chart-card">
                    <div class="chart-header">
                        <h3>Status Locker</h3>
                    </div>
                    <div class="chart-body">
                        <canvas id="statusChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Recent Activity & Quick Actions -->
            <div class="dashboard-grid">
                <!-- Recent Activity -->
                <div class="activity-card">
                    <div class="card-header">
                        <h3><i class="fas fa-clock"></i> Aktivitas Terbaru</h3>
                        <a href="#" class="view-all">Lihat Semua</a>
                    </div>
                    <div class="activity-list" id="adminActivityList">
                        <!-- Empty State -->
                        <div class="empty-state" style="text-align: center; padding: 30px;">
                            <i class="fas fa-clock" style="font-size: 32px; color: #94a3b8; margin-bottom: 12px;"></i>
                            <p style="color: #64748b; font-size: 13px;">Belum ada aktivitas</p>
                            <p style="color: #94a3b8; font-size: 11px;">Aktivitas akan muncul saat ada penggunaan locker
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions & Status Overview -->
                <div class="quick-actions-card">
                    <div class="card-header">
                        <h3><i class="fas fa-bolt"></i> Aksi Cepat</h3>
                    </div>
                    <div class="quick-actions-grid">
                        <button class="quick-action-btn" onclick="showModal('addUserModal')">
                            <i class="fas fa-user-plus"></i>
                            <span>Tambah Pengguna</span>
                        </button>
                        <button class="quick-action-btn" onclick="showModal('addLockerModal')">
                            <i class="fas fa-plus-circle"></i>
                            <span>Tambah Locker</span>
                        </button>
                        <button class="quick-action-btn">
                            <i class="fas fa-file-export"></i>
                            <span>Export Laporan</span>
                        </button>
                        <button class="quick-action-btn">
                            <i class="fas fa-sync-alt"></i>
                            <span>Sinkronisasi</span>
                        </button>
                    </div>

                    <div class="locker-overview">
                        <h4>Status Locker Hari Ini</h4>
                        <div class="locker-mini-grid" id="adminLockerGrid">
                            <!-- Locker grid will be populated dynamically -->
                            <div
                                style="grid-column: 1 / -1; text-align: center; padding: 20px; color: #94a3b8; font-size: 12px;">
                                <i class="fas fa-box" style="font-size: 24px; margin-bottom: 8px; display: block;"></i>
                                Belum ada locker terdaftar
                            </div>
                        </div>
                        <div class="locker-legend">
                            <span><i class="fas fa-circle available"></i> Tersedia</span>
                            <span><i class="fas fa-circle occupied"></i> Terpakai</span>
                        </div>
                    </div>

                    <!-- Overtime Lockers Alert Section -->
                    <div class="overtime-lockers-section">
                        <div class="overtime-card">
                            <div class="card-header danger">
                                <h3><i class="fas fa-exclamation-triangle"></i> Locker Melewati Batas Waktu</h3>
                                <div class="card-actions">
                                    <span class="overtime-count-badge" id="overtimeCountBadge">0</span>
                                    <button class="refresh-btn" onclick="loadOvertimeLockers()" title="Refresh">
                                        <i class="fas fa-sync-alt"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="overtime-list" id="overtimeLockersList">
                                <div class="empty-state" style="text-align: center; padding: 30px; color: #94a3b8;">
                                    <i class="fas fa-check-circle"
                                        style="font-size: 32px; margin-bottom: 12px; color: #4ade80;"></i>
                                    <p style="margin: 0; font-size: 14px;">Tidak ada locker overtime</p>
                                    <p style="margin: 4px 0 0; font-size: 12px;">Semua penggunaan locker dalam batas
                                        normal</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Web Access History (24 Hours) -->
                    <div class="access-history-section">
                        <div class="access-history-card">
                            <div class="card-header">
                                <h3><i class="fas fa-history"></i> Riwayat Akses Web (24 Jam)</h3>
                                <div class="card-actions">
                                    <button class="refresh-btn" onclick="loadAccessHistory()" title="Refresh">
                                        <i class="fas fa-sync-alt"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="access-stats-row" id="accessStats">
                                <div class="access-stat">
                                    <span class="stat-label">Total Akses</span>
                                    <span class="stat-value" id="totalAccess">0</span>
                                </div>
                                <div class="access-stat">
                                    <span class="stat-label">User Login</span>
                                    <span class="stat-value" id="userLogins">0</span>
                                </div>
                                <div class="access-stat">
                                    <span class="stat-label">Admin Login</span>
                                    <span class="stat-value" id="adminLogins">0</span>
                                </div>
                            </div>
                            <div class="access-history-table-container">
                                <table class="data-table compact" id="accessHistoryTable">
                                    <thead>
                                        <tr>
                                            <th>Waktu</th>
                                            <th>Pengguna</th>
                                            <th>Tipe</th>
                                            <th>Aktivitas</th>
                                            <th>IP Address</th>
                                        </tr>
                                    </thead>
                                    <tbody id="accessHistoryBody">
                                        <tr>
                                            <td colspan="5" style="text-align: center; padding: 30px; color: #94a3b8;">
                                                <i class="fas fa-history"
                                                    style="font-size: 24px; margin-bottom: 8px; display: block;"></i>
                                                Memuat riwayat akses...
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="access-history-footer">
                                <span id="accessHistoryInfo">Menampilkan 0 dari 0 log</span>
                                <button class="load-more-btn" id="loadMoreBtn" onclick="loadMoreAccessLogs()"
                                    style="display: none;">
                                    Muat Lebih Banyak
                                </button>
                            </div>
                        </div>
                    </div>
        </section>

        <!-- Locker Management Page -->
        <section class="page" id="lockersPage">
            <div class="page-header">
                <h1>Manajemen Locker</h1>
                <div class="breadcrumb">
                    <span>Home</span>
                    <i class="fas fa-chevron-right"></i>
                    <span class="current">Manajemen Locker</span>
                </div>
            </div>

            <div class="page-actions">
                <div class="filter-group">
                    <select class="filter-select">
                        <option value="">Semua Status</option>
                        <option value="available">Tersedia</option>
                        <option value="occupied">Terpakai</option>
                        <option value="maintenance">Pemeliharaan</option>
                    </select>
                </div>
                <button class="primary-btn" onclick="showModal('addLockerModal')">
                    <i class="fas fa-plus"></i> Tambah Locker
                </button>
            </div>

            <div class="locker-management-grid">
                <!-- Locker cards will be generated by JavaScript -->
            </div>
        </section>

        <!-- Users Page -->
        <section class="page" id="usersPage">
            <div class="page-header">
                <h1>Data Pengguna</h1>
                <div class="breadcrumb">
                    <span>Home</span>
                    <i class="fas fa-chevron-right"></i>
                    <span class="current">Data Pengguna</span>
                </div>
            </div>

            <div class="page-actions">
                <div class="search-filter">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Cari pengguna...">
                </div>
                <button class="primary-btn" onclick="showModal('addUserModal')">
                    <i class="fas fa-plus"></i> Tambah Pengguna
                </button>
            </div>

            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nama</th>
                            <th>NIM</th>
                            <th>Email</th>
                            <th>Status Locker</th>
                            <th>Tanggal Daftar</th>
                            <th>Aksi</th>
                        </tr>
                    </thead>
                    <tbody id="usersTableBody">
                        <!-- Empty State -->
                        <tr>
                            <td colspan="7" style="text-align: center; padding: 40px; color: #94a3b8;">
                                <i class="fas fa-users"
                                    style="font-size: 32px; margin-bottom: 12px; display: block;"></i>
                                <p style="margin: 0; font-size: 14px;">Belum ada pengguna terdaftar</p>
                                <p style="margin: 4px 0 0; font-size: 12px; color: #64748b;">Data pengguna akan muncul
                                    setelah registrasi</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="table-footer">
                <span id="usersTableInfo">Menampilkan 0 pengguna</span>
                <div class="pagination" id="usersPagination">
                    <!-- Pagination will be populated dynamically -->
                </div>
            </div>
        </section>

        <!-- Transactions Page -->
        <section class="page" id="transactionsPage">
            <div class="page-header">
                <h1>Transaksi</h1>
                <div class="breadcrumb">
                    <span>Home</span>
                    <i class="fas fa-chevron-right"></i>
                    <span class="current">Transaksi</span>
                </div>
            </div>

            <div class="page-actions">
                <div class="filter-group">
                    <select class="filter-select">
                        <option value="">Semua Transaksi</option>
                        <option value="pinjam">Peminjaman</option>
                        <option value="kembali">Pengembalian</option>
                    </select>
                    <input type="date" class="date-input">
                    <input type="date" class="date-input">
                </div>
                <button class="secondary-btn">
                    <i class="fas fa-file-export"></i> Export
                </button>
            </div>

            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ID Transaksi</th>
                            <th>Pengguna</th>
                            <th>Locker</th>
                            <th>Tipe</th>
                            <th>Waktu</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="transactionsTableBody">
                        <!-- Empty State -->
                        <tr>
                            <td colspan="6" style="text-align: center; padding: 40px; color: #94a3b8;">
                                <i class="fas fa-exchange-alt"
                                    style="font-size: 32px; margin-bottom: 12px; display: block;"></i>
                                <p style="margin: 0; font-size: 14px;">Belum ada transaksi</p>
                                <p style="margin: 4px 0 0; font-size: 12px; color: #64748b;">Data transaksi akan muncul
                                    saat ada aktivitas locker</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Reports Page -->
        <section class="page" id="reportsPage">
            <div class="page-header">
                <h1>Laporan</h1>
                <div class="breadcrumb">
                    <span>Home</span>
                    <i class="fas fa-chevron-right"></i>
                    <span class="current">Laporan</span>
                </div>
            </div>

            <div class="reports-grid">
                <div class="report-card">
                    <div class="report-icon blue">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="report-info">
                        <h3>Laporan Penggunaan</h3>
                        <p>Statistik penggunaan locker harian, mingguan, bulanan</p>
                    </div>
                    <button class="report-btn">Generate</button>
                </div>
                <div class="report-card">
                    <div class="report-icon green">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="report-info">
                        <h3>Laporan Pengguna</h3>
                        <p>Data pengguna aktif dan tidak aktif</p>
                    </div>
                    <button class="report-btn">Generate</button>
                </div>
                <div class="report-card">
                    <div class="report-icon orange">
                        <i class="fas fa-exchange-alt"></i>
                    </div>
                    <div class="report-info">
                        <h3>Laporan Transaksi</h3>
                        <p>Riwayat transaksi peminjaman dan pengembalian</p>
                    </div>
                    <button class="report-btn">Generate</button>
                </div>
                <div class="report-card">
                    <div class="report-icon red">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="report-info">
                        <h3>Laporan Keterlambatan</h3>
                        <p>Daftar pengguna dengan keterlambatan pengembalian</p>
                    </div>
                    <button class="report-btn">Generate</button>
                </div>
            </div>
        </section>

        <!-- Server Logs Page -->
        <section class="page" id="serverLogsPage">
            <div class="page-header">
                <h1>Log Server</h1>
                <div class="breadcrumb">
                    <span>Home</span>
                    <i class="fas fa-chevron-right"></i>
                    <span class="current">Log Server</span>
                </div>
            </div>

            <div class="server-log-container">
                <div class="log-controls">
                    <div class="log-filters">
                        <select id="logTypeFilter" onchange="loadServerLogs()">
                            <option value="">Semua Log</option>
                            <option value="log">Info (log)</option>
                            <option value="error">Error</option>
                            <option value="warn">Warning</option>
                            <option value="info">Info</option>
                        </select>
                        <button class="refresh-btn" onclick="loadServerLogs()" title="Refresh">
                            <i class="fas fa-sync-alt"></i> Refresh
                        </button>
                    </div>
                    <div class="log-actions">
                        <label class="auto-refresh-toggle">
                            <input type="checkbox" id="autoRefreshLogs" onchange="toggleAutoRefresh()">
                            <span>Auto Refresh (5 detik)</span>
                        </label>
                        <button class="danger-btn" onclick="clearServerLogs()" title="Hapus Semua Log">
                            <i class="fas fa-trash"></i> Hapus Log
                        </button>
                    </div>
                </div>

                <div class="log-stats" id="logStats">
                    <span class="log-count">Total: <strong id="logTotalCount">0</strong> log</span>
                    <span class="log-last-update">Terakhir update: <span id="logLastUpdate">-</span></span>
                </div>

                <div class="server-log-terminal" id="serverLogTerminal">
                    <div class="terminal-header">
                        <span class="terminal-dot red"></span>
                        <span class="terminal-dot yellow"></span>
                        <span class="terminal-dot green"></span>
                        <span class="terminal-title">Server Console Output</span>
                    </div>
                    <div class="terminal-body" id="serverLogBody">
                        <div class="log-loading">
                            <i class="fas fa-spinner fa-spin"></i> Memuat log server...
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Settings Page -->
        <section class="page" id="settingsPage">
            <div class="page-header">
                <h1>Pengaturan</h1>
                <div class="breadcrumb">
                    <span>Home</span>
                    <i class="fas fa-chevron-right"></i>
                    <span class="current">Pengaturan</span>
                </div>
            </div>

            <div class="settings-grid">
                <div class="settings-card">
                    <h3><i class="fas fa-clock"></i> Pengaturan Waktu</h3>
                    <div class="settings-form">
                        <div class="form-group">
                            <label>Durasi Maksimal Peminjaman (jam)</label>
                            <input type="number" value="24" min="1" max="72">
                        </div>
                        <div class="form-group">
                            <label>Toleransi Keterlambatan (menit)</label>
                            <input type="number" value="30" min="0" max="60">
                        </div>
                        <div class="form-group">
                            <label>Jam Operasional Mulai</label>
                            <input type="time" value="07:00">
                        </div>
                        <div class="form-group">
                            <label>Jam Operasional Selesai</label>
                            <input type="time" value="22:00">
                        </div>
                    </div>
                </div>

                <div class="settings-card">
                    <h3><i class="fas fa-bell"></i> Pengaturan Notifikasi</h3>
                    <div class="settings-form">
                        <div class="toggle-group">
                            <label>Notifikasi Email</label>
                            <label class="switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="toggle-group">
                            <label>Notifikasi Keterlambatan</label>
                            <label class="switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="toggle-group">
                            <label>Notifikasi Pengguna Baru</label>
                            <label class="switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="settings-card full-width">
                    <h3><i class="fas fa-shield-alt"></i> Keamanan</h3>
                    <div class="settings-form">
                        <div class="form-group">
                            <label>Password Lama</label>
                            <input type="password" placeholder="Masukkan password lama">
                        </div>
                        <div class="form-group">
                            <label>Password Baru</label>
                            <input type="password" placeholder="Masukkan password baru">
                        </div>
                        <div class="form-group">
                            <label>Konfirmasi Password Baru</label>
                            <input type="password" placeholder="Konfirmasi password baru">
                        </div>
                        <button class="primary-btn">Ubah Password</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Add User Modal -->
    <div class="modal-overlay" id="addUserModal">
        <div class="modal">
            <div class="modal-header">
                <h3>Tambah Pengguna Baru</h3>
                <button class="modal-close" onclick="hideModal('addUserModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addUserForm">
                    <div class="form-group">
                        <label>Nama Lengkap</label>
                        <input type="text" placeholder="Masukkan nama lengkap" required>
                    </div>
                    <div class="form-group">
                        <label>NIM</label>
                        <input type="text" placeholder="Masukkan NIM" required>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" placeholder="Masukkan email" required>
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" placeholder="Masukkan password" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="secondary-btn" onclick="hideModal('addUserModal')">Batal</button>
                <button class="primary-btn">Simpan</button>
            </div>
        </div>
    </div>

    <!-- Add Locker Modal -->
    <div class="modal-overlay" id="addLockerModal">
        <div class="modal">
            <div class="modal-header">
                <h3>Tambah Locker Baru</h3>
                <button class="modal-close" onclick="hideModal('addLockerModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addLockerForm">
                    <div class="form-group">
                        <label>Nomor Locker</label>
                        <input type="number" placeholder="Masukkan nomor locker" required>
                    </div>
                    <div class="form-group">
                        <label>Lokasi</label>
                        <select required>
                            <option value="">Pilih lokasi</option>
                            <option value="lt1">Lantai 1</option>
                            <option value="lt2">Lantai 2</option>
                            <option value="lt3">Lantai 3</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Status</label>
                        <select required>
                            <option value="available">Tersedia</option>
                            <option value="maintenance">Pemeliharaan</option>
                        </select>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Takeover Confirmation Modal -->
    <div class="modal-overlay" id="takeoverModal">
        <div class="modal">
            <div class="modal-header danger-header">
                <h3><i class="fas fa-exclamation-triangle"></i> Konfirmasi Pengambilan Barang</h3>
                <button class="modal-close" onclick="hideModal('takeoverModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="takeover-info">
                    <p style="margin-bottom: 15px;">Anda akan mengambil barang dari:</p>
                    <div class="takeover-details">
                        <div class="detail-row">
                            <span class="label">Locker:</span>
                            <span class="value" id="takeoverLockerId">#1</span>
                        </div>
                        <div class="detail-row">
                            <span class="label">Pengguna:</span>
                            <span class="value" id="takeoverUserName">-</span>
                        </div>
                        <div class="detail-row">
                            <span class="label">NIM:</span>
                            <span class="value" id="takeoverUserNim">-</span>
                        </div>
                        <div class="detail-row">
                            <span class="label">Durasi:</span>
                            <span class="value overtime" id="takeoverDuration">- jam</span>
                        </div>
                    </div>
                    <div class="form-group" style="margin-top: 20px;">
                        <label>Catatan Admin (opsional)</label>
                        <textarea id="takeoverNote" rows="3" placeholder="Catatan untuk user..."></textarea>
                    </div>
                    <div class="warning-notice"
                        style="background: #fef3c7; border-radius: 8px; padding: 12px; margin-top: 15px;">
                        <p style="margin: 0; color: #92400e; font-size: 13px;">
                            <i class="fas fa-info-circle"></i>
                            Email notifikasi akan dikirim ke user bahwa barang sudah disita.
                        </p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="secondary-btn" onclick="hideModal('takeoverModal')">Batal</button>
                <button class="danger-btn" id="confirmTakeoverBtn" onclick="confirmTakeover()">
                    <i class="fas fa-box"></i> Sita Barang
                </button>
            </div>
        </div>
    </div>

    <!-- Socket.IO Client for Real-Time Updates -->
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="admin.js?v=2"></script>
</body>

</html>